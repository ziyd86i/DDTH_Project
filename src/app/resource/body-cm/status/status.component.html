<div class="container">
  <div class="row">
    <div class="col pull-right">
      <label>Select Team: </label>
      <select class="form-control" id="team_id" [(ngModel)]="defaultTeam" (ngModelChange)="changeDefault()" required>
          <option value="505" [selected]="defaultTeam === 505">Service Support</option>
          <option value="503" [selected]="defaultTeam === 503">Installation </option>
          <option value="504" [selected]="defaultTeam === 504">Preventive Maintenance</option>
          <option value="506" [selected]="defaultTeam === 506">Resource Management</option>
          <option value="507" [selected]="defaultTeam === 507">Service</option>
          <option value="509" [selected]="defaultTeam === 509">Upcountry FE</option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col">

      <h4><img src="../../assets/images/green_1.png"> Available</h4>
      <hr>
      <table id="available" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th >Employee ID</th>
            <th >Name</th>
            <th >Type</th>
            <th >Skill</th>
            <th >Assign Work</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let data of employees" >
            <td>{{ data.em_id }}</td>
            <td (click)='schedulerDialog(data)' style="cursor: pointer;">{{ data.name }} {{data.lname}}</td>
            <td> {{data.type }}</td>
            <td> {{ data.skill_name }}</td>
            <td style="text-align: center;">
              <button type="button" class="btn btn-info btn-circle" (click)="assignWork(data.em_id)">
                <i class="glyphicon glyphicon-plus"></i></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<div class="container">
  <div class="row">
    <div class="col">
      <h4><img src="../../assets/images/yellow_2.gif"> In progress</h4>
      <hr>
      <table id="progress" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th>Ticket ID</th>
            <th>Employee ID</th>
            <th>Name</th>
            <th>Customer name</th>
            <th>Work Start</th>
            <th >Work End</th>
            <th>Confirm Work</th>
            <th>Delete</th>


          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let data of progress">
            <td>{{data.ticket_name}}</td>
            <td>{{data.em_id}}</td>
            <td (click)='schedulerDialog(data)' style="cursor: pointer;">{{data.name}} {{data.lname}}</td>
            <td>{{data.customer_name}}</td>
            <td>{{data.date | date:'short'}}</td>
            <td>{{data.end_date | date:'short'}}</td>
            <td style="text-align: center;"><button type="button" class="btn btn-success btn-circle" (click)="Description(data.workplan_id)">
              <i class="glyphicon glyphicon-chevron-right"></i></button></td>
            <td style="text-align: center;"><button type="button" class="btn btn-danger btn-circle" (click)="deleteWork(data.workplan_id, data.emp_status)">
              <i class="glyphicon glyphicon-remove"></i></button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<div class="container">
  <div class="row">
    <div class="col">
      <h4><img src="../../assets/images/red_1.png"> Busy</h4>
      <hr>
      <table id="busy" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th>Ticket ID</th>
            <th>Employees ID</th>
            <th>Name </th>
            <th>Customer Name</th>
            <th>Work Start</th>
            <th>Work End</th>
            <th></th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let data of busy">
            <td>{{data.ticket_name}}</td>
            <td>{{data.em_id}}</td>
            <td (click)='schedulerDialog(data)' style="cursor: pointer;">{{data.name}} {{data.lname}}</td>
            <td>{{data.customer_name}}</td>
            <td>{{data.date | date:'short'}}</td>
            <td>{{data.end_date | date:'short'}}</td>
            <td style="text-align: center;">
              <button class="btn btn-success"
                    md-raised-button
                    (click)="dialogWorkDone(data.workplan_id)">
                    Done
              </button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
